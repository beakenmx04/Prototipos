<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Encuesta de Satisfacción - Juego de Béisbol</title>
  <style>
    /* Estilos Generales */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f7f6;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      color: #333;
    }

    .container {
      background-color: #ffffff;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
      max-width: 650px;
      width: 100%;
      box-sizing: border-box;
    }

    h1 {
      text-align: center;
      color: #0056b3; /* Un azul más vibrante */
      margin-bottom: 30px;
      font-size: 2em;
      border-bottom: 2px solid #007bff;
      padding-bottom: 10px;
    }

    /* Estilos del Formulario */
    form label {
      display: block;
      margin-top: 18px;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
      font-size: 0.95em;
    }

    form input[type="text"],
    form input[type="date"],
    form input[type="number"],
    form select,
    form textarea {
      width: calc(100% - 20px); /* Ajuste para el padding */
      padding: 12px 10px;
      margin-top: 5px;
      border: 1px solid #cceeff; /* Borde más suave */
      border-radius: 8px;
      box-sizing: border-box;
      font-size: 1em;
      transition: all 0.3s ease;
      background-color: #eaf6ff; /* Fondo ligeramente azul */
    }

    form input[type="text"]:focus,
    form input[type="date"]:focus,
    form input[type="number"]:focus,
    form select:focus,
    form textarea:focus {
      border-color: #007bff; /* Resaltar en foco */
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
      outline: none;
      background-color: #ffffff;
    }

    form textarea {
      resize: vertical;
      min-height: 80px;
    }

    /* Estilos del Botón */
    form button {
      display: block;
      width: 100%;
      padding: 15px;
      margin-top: 30px;
      background-color: #007bff; /* Azul primario */
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    form button:hover {
      background-color: #0056b3; /* Azul más oscuro al pasar el mouse */
      transform: translateY(-2px);
    }

    form button:active {
      transform: translateY(0);
    }

    /* Estilos para los campos de rating (1-5) para mejorar la visual */
    .rating-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 18px;
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
      font-size: 0.95em;
    }

    .rating-label input[type="number"] {
        width: 80px; /* Ancho más pequeño para los ratings */
        text-align: center;
    }

  </style>
</head>
<body>
  <div class="container">
    <h1>Encuesta de Satisfacción - Juego de Béisbol</h1>
    <form id="encuestaForm">
      <label for="fecha_juego">Fecha del Juego</label>
      <input type="date" id="fecha_juego" name="fecha_juego" required>

      <label for="nombre_completo">Nombre Completo</label>
      <input type="text" id="nombre_completo" name="nombre_completo" required>

      <label for="lugar_estadio">Lugar/Estadio</label>
      <select id="lugar_estadio" name="lugar_estadio" required>
        <option value="Estadio Uno">Estadio Uno</option>
        <option value="Estadio Dos">Estadio Dos</option>
        <option value="Estadio Tres">Estadio Tres</option>
      </select>

      <label for="edad">Edad</label>
      <input type="number" id="edad" name="edad" min="0" required>

      <label for="genero">Género</label>
      <select id="genero" name="genero" required>
        <option value="">--Seleccionar--</option>
        <option value="Masculino">Masculino</option>
        <option value="Femenino">Femenino</option>
        <option value="Otro">Otro</option>
        <option value="Prefiero no decirlo">Prefiero no decirlo</option>
      </select>

      <label for="asistencia">¿Asistió al juego?</label>
      <select id="asistencia" name="asistencia" required>
        <option value="">--Seleccionar--</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>

      <div class="rating-label">
        <label for="ambiente_general">Ambiente General (1-5)</label>
        <input type="number" id="ambiente_general" name="ambiente_general" min="1" max="5" required>
      </div>

      <div class="rating-label">
        <label for="comodidad_asientos">Comodidad de los Asientos (1-5)</label>
        <input type="number" id="comodidad_asientos" name="comodidad_asientos" min="1" max="5" required>
      </div>

      <div class="rating-label">
        <label for="limpieza_estadio">Limpieza del Estadio (1-5)</label>
        <input type="number" id="limpieza_estadio" name="limpieza_estadio" min="1" max="5" required>
      </div>

      <div class="rating-label">
        <label for="atencion_personal">Atención del Personal (1-5)</label>
        <input type="number" id="atencion_personal" name="atencion_personal" min="1" max="5" required>
      </div>

      <div class="rating-label">
        <label for="comida_bebidas">Comida y Bebidas (1-5)</label>
        <input type="number" id="comida_bebidas" name="comida_bebidas" min="1" max="5" required>
      </div>

      <label for="recomendacion_estadio">¿Recomendaría el estadio?</label>
      <select id="recomendacion_estadio" name="recomendacion_estadio" required>
        <option value="">--Seleccionar--</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>

      <label for="tiempo_espera">Tiempo de Espera en Entrada (minutos)</label>
      <input type="number" id="tiempo_espera" name="tiempo_espera" min="0" required>

      <div class="rating-label">
        <label for="nivel_disfrute">Nivel de Disfrute (1-5)</label>
        <input type="number" id="nivel_disfrute" name="nivel_disfrute" min="1" max="5" required>
      </div>

      <label for="volver">¿Volvería a asistir?</label>
      <select id="volver" name="volver" required>
        <option value="">--Seleccionar--</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>

      <label for="comentarios">Comentarios Adicionales</label>
      <textarea id="comentarios" name="comentarios" rows="4"></textarea>

      <button type="submit">Enviar Encuesta</button>
    </form>
  </div>

    <script>
    const form = document.getElementById('encuestaForm');

form.addEventListener('submit', async function(e) {
  e.preventDefault();
  
  // Mostrar indicador de carga
  const submitBtn = form.querySelector('[type="submit"]');
  submitBtn.disabled = true;
  submitBtn.textContent = 'Enviando...';
  
  try {
    const formData = {
        fecha_juego: form.fecha_juego.value,
        nombre_completo: form.nombre_completo.value,
        lugar_estadio: form.lugar_estadio.value,
        edad: form.edad.value,
        genero: form.genero.value,
        asistencia: form.asistencia.value,
        ambiente_general: form.ambiente_general.value,
        comodidad_asientos: form.comodidad_asientos.value,
        limpieza_estadio: form.limpieza_estadio.value,
        atencion_personal: form.atencion_personal.value,
        comida_bebidas: form.comida_bebidas.value,
        recomendacion_estadio: form.recomendacion_estadio.value,
        tiempo_espera: form.tiempo_espera.value,
        nivel_disfrute: form.nivel_disfrute.value,
        volver: form.volver.value,
        comentarios: form.comentarios.value
      };

    const response = await fetch('https://script.google.com/macros/s/AKfycbyNcrTMDoepI7ZwkZAqTE_WePNAxtvfB3PLRW0CrdCqjD0CPW7sh8U8wSGOJXq2qe3Q/exec', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: Object.keys(formData).map(key => 
  encodeURIComponent(key) + '=' + encodeURIComponent(formData[key])
).join('&')
    });
    
    // Verificar si la solicitud fue exitosa
    if (!response.ok) {
      throw new Error(`Error HTTP: ${response.status}`);
    }
    
    // Intentar leer la respuesta como texto
    const responseText = await response.text();
    
    // Mostrar mensaje de éxito
    alert('Registro exitoso! ID: ' + JSON.parse(responseText).id);
    form.reset();
    
  } catch (error) {
    console.error('Error:', error);
    alert('El registro se completó en el servidor, pero hubo un problema al recibir la confirmación. Por favor verifica directamente en la hoja de cálculo.');
  } finally {
    // Restaurar botón
    submitBtn.disabled = false;
    submitBtn.textContent = 'Enviar';
  }
});
  </script>

</body>
</html>
